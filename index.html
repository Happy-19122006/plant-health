<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>🌱 CropGuard AI - Smart Crop Disease Detection</title>
    <link rel="stylesheet" href="styles.css?v=2025">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path d='M50 85 L50 45' stroke='%234a7c59' stroke-width='4'/><path d='M50 50 Q35 45 30 55 Q35 65 50 60' fill='%236b8e5a'/><path d='M50 50 Q65 45 70 55 Q65 65 50 60' fill='%236b8e5a'/></svg>">
    
    <!-- Performance Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4a7c59">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 100 100" class="plant-logo">
                        <!-- Main stem -->
                        <path d="M50 85 L50 45" stroke="#4a7c59" stroke-width="4" stroke-linecap="round"/>
                        <!-- Leaves -->
                        <path d="M50 50 Q35 45 30 55 Q35 65 50 60" fill="#6b8e5a" stroke="#4a7c59" stroke-width="2"/>
                        <path d="M50 50 Q65 45 70 55 Q65 65 50 60" fill="#6b8e5a" stroke="#4a7c59" stroke-width="2"/>
                        <path d="M50 40 Q35 35 30 45 Q35 55 50 50" fill="#8fbc8f" stroke="#4a7c59" stroke-width="2"/>
                        <path d="M50 40 Q65 35 70 45 Q65 55 50 50" fill="#8fbc8f" stroke="#4a7c59" stroke-width="2"/>
                        <!-- Small leaves -->
                        <path d="M50 35 Q42 30 40 38 Q42 46 50 42" fill="#a7d3a7" stroke="#4a7c59" stroke-width="1"/>
                        <path d="M50 35 Q58 30 60 38 Q58 46 50 42" fill="#a7d3a7" stroke="#4a7c59" stroke-width="1"/>
                        <!-- Roots -->
                        <path d="M50 85 Q40 90 35 88" stroke="#8b4513" stroke-width="3" stroke-linecap="round"/>
                        <path d="M50 85 Q60 90 65 88" stroke="#8b4513" stroke-width="3" stroke-linecap="round"/>
                        <path d="M50 85 Q45 95 50 95 Q55 95 50 85" stroke="#8b4513" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                </div>
                <span class="logo-text">CropGuard AI</span>
            </div>
            <div class="nav-menu">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#upload" class="nav-link">My Scans</a>
                <a href="#about" class="nav-link">About</a>
                <a href="#contact" class="nav-link">Contact</a>
                <div class="language-toggle">
                    <button class="lang-btn" onclick="toggleLanguage()">
                        <i class="fas fa-globe"></i>
                        <span id="currentLang">EN</span>
                    </button>
                </div>
                <div class="theme-toggle">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </div>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-background">
            <div class="leaf leaf-1"></div>
            <div class="leaf leaf-2"></div>
            <div class="leaf leaf-3"></div>
            <div class="leaf leaf-4"></div>
            <div class="leaf leaf-5"></div>
        </div>
        <div class="hero-content">
            <div class="hero-logo">
                <svg viewBox="0 0 150 150" class="hero-plant-logo">
                    <!-- Main stem -->
                    <path d="M75 130 L75 70" stroke="#4a7c59" stroke-width="6" stroke-linecap="round"/>
                    <!-- Large leaves -->
                    <path d="M75 75 Q50 65 40 80 Q50 95 75 85" fill="#6b8e5a" stroke="#4a7c59" stroke-width="3"/>
                    <path d="M75 75 Q100 65 110 80 Q100 95 75 85" fill="#6b8e5a" stroke="#4a7c59" stroke-width="3"/>
                    <path d="M75 65 Q50 55 40 70 Q50 85 75 75" fill="#8fbc8f" stroke="#4a7c59" stroke-width="3"/>
                    <path d="M75 65 Q100 55 110 70 Q100 85 75 75" fill="#8fbc8f" stroke="#4a7c59" stroke-width="3"/>
                    <!-- Medium leaves -->
                    <path d="M75 55 Q55 45 45 60 Q55 75 75 65" fill="#a7d3a7" stroke="#4a7c59" stroke-width="2"/>
                    <path d="M75 55 Q95 45 105 60 Q95 75 75 65" fill="#a7d3a7" stroke="#4a7c59" stroke-width="2"/>
                    <!-- Small leaves -->
                    <path d="M75 45 Q60 35 50 50 Q60 65 75 55" fill="#c7e3c7" stroke="#4a7c59" stroke-width="2"/>
                    <path d="M75 45 Q90 35 100 50 Q90 65 75 55" fill="#c7e3c7" stroke="#4a7c59" stroke-width="2"/>
                    <!-- Roots -->
                    <path d="M75 130 Q60 140 50 135" stroke="#8b4513" stroke-width="5" stroke-linecap="round"/>
                    <path d="M75 130 Q90 140 100 135" stroke="#8b4513" stroke-width="5" stroke-linecap="round"/>
                    <path d="M75 130 Q70 145 75 145 Q80 145 75 130" stroke="#8b4513" stroke-width="5" stroke-linecap="round"/>
                    <!-- Soil -->
                    <ellipse cx="75" cy="145" rx="35" ry="8" fill="#8b4513" opacity="0.7"/>
                </svg>
            </div>
            <h1 class="hero-title">
                <span class="highlight">CropGuard AI</span>
                <br>Smart Disease Detection for Healthy Crops
            </h1>
            <p class="hero-description">
                Take three photos and get instant AI-powered disease detection with detailed treatment recommendations.
            </p>
            
            <!-- 3-Step Workflow -->
            <div class="hero-workflow">
                <div class="workflow-step">
                    <div class="workflow-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="workflow-text">
                        <h4>Step 1</h4>
                        <p>Take 3 Photos</p>
                    </div>
                </div>
                <div class="workflow-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="workflow-step">
                    <div class="workflow-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="workflow-text">
                        <h4>Step 2</h4>
                        <p>AI Analysis</p>
                    </div>
                </div>
                <div class="workflow-arrow">
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="workflow-step">
                    <div class="workflow-icon">
                        <i class="fas fa-pills"></i>
                    </div>
                    <div class="workflow-text">
                        <h4>Step 3</h4>
                        <p>Get Treatment</p>
                    </div>
                </div>
            </div>

            <div class="hero-buttons">
                <button class="btn-primary" onclick="scrollToSection('upload')">
                    <i class="fas fa-camera"></i>
                    Start Scanning
                </button>
                <button class="btn-secondary" onclick="showHowItWorks()">
                    <i class="fas fa-info-circle"></i>
                    How it Works
                </button>
            </div>
        </div>
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number">99.2%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">50+</div>
                <div class="stat-label">Diseases</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">10K+</div>
                <div class="stat-label">Images</div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="upload" class="upload-section">
        <div class="container">
            <div class="section-header">
                <h2>Smart Crop Disease Detection</h2>
                <p>Take three photos for the most accurate diagnosis</p>
            </div>
            
            <!-- Photo Capture Workflow -->
            <div class="photo-workflow" id="photoWorkflow">
                <div class="workflow-steps">
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-title">Close-up Photo</div>
                        <div class="step-desc">Affected leaf, stem, or fruit</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-title">Full Plant View</div>
                        <div class="step-desc">Entire plant structure</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-title">Underside View</div>
                        <div class="step-desc">Lower surface where pests hide</div>
                    </div>
                </div>

                <!-- Photo Capture Interface -->
                <div class="photo-capture-container">
                    <div class="capture-area" id="captureArea">
                        <div class="capture-content">
                            <div class="capture-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <h3 id="captureTitle">Take Close-up Photo</h3>
                            <p id="captureDescription">Focus on the affected part of the plant</p>
                            
                            <!-- Camera Guide -->
                            <div class="camera-guide">
                                <div class="guide-item">
                                    <i class="fas fa-sun"></i>
                                    <span>Good lighting</span>
                                </div>
                                <div class="guide-item">
                                    <i class="fas fa-hand-paper"></i>
                                    <span>Keep steady</span>
                                </div>
                                <div class="guide-item">
                                    <i class="fas fa-crosshairs"></i>
                                    <span>Tap to focus</span>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="capture-buttons">
                                <button class="btn-camera" id="takePhotoBtn" onclick="handleTakePhoto()">
                                    <i class="fas fa-camera"></i>
                                    Take Photo
                                </button>
                                <button class="btn-gallery" id="uploadGalleryBtn" onclick="handleUploadGallery()">
                                    <i class="fas fa-images"></i>
                                    Upload from Gallery
                                </button>
                            </div>
                            
                            <!-- Consent Checkbox -->
                            <div class="consent-section">
                                <label class="consent-checkbox">
                                    <input type="checkbox" id="uploadConsent" required>
                                    <span class="checkmark"></span>
                                    I agree to terms and allow using my images for improving diagnosis model
                                </label>
                            </div>
                            
                            <input type="file" id="fileInput" accept="image/*" style="display: none;">
                            <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
                        </div>
                    </div>

                    <!-- Photo Preview -->
                    <div class="photo-preview" id="photoPreview" style="display: none;">
                        <div class="preview-container">
                            <button class="preview-close" id="previewCloseBtn" onclick="hidePhotoPreview()">
                                <i class="fas fa-times"></i>
                            </button>
                            <img id="previewImage" src="" alt="Captured photo">
                            <div class="preview-actions">
                                <button class="btn-retake" id="retakeBtn" onclick="hidePhotoPreview()">
                                    <i class="fas fa-redo"></i>
                                    Retake
                                </button>
                                <button class="btn-confirm" id="confirmBtn" onclick="confirmPhoto()">
                                    <i class="fas fa-check"></i>
                                    Use This Photo
                                </button>
                            </div>
                        </div>
                        
                        <!-- Image Quality Check -->
                        <div class="quality-check" id="qualityCheck">
                            <div class="quality-item">
                                <i class="fas fa-check-circle quality-good"></i>
                                <span>Good lighting</span>
                            </div>
                            <div class="quality-item">
                                <i class="fas fa-check-circle quality-good"></i>
                                <span>Sharp focus</span>
                            </div>
                            <div class="quality-item" id="backgroundCheck">
                                <i class="fas fa-exclamation-triangle quality-warning"></i>
                                <span>Background too noisy - Retake photo</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Progress -->
                <div class="photo-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text">
                        <span id="progressText">Photo 1 of 3</span>
                    </div>
                </div>
            </div>

            <!-- Analyze Button -->
            <div class="analyze-section" id="analyzeSection" style="display: none;">
                <button class="btn-analyze" id="analyzeBtn">
                    <i class="fas fa-search"></i>
                    Analyze Photos (30 seconds)
                </button>
                <p class="analyze-note">We'll analyze your photos and provide detailed disease diagnosis with treatment recommendations</p>
            </div>

            <div class="uploaded-images" id="uploadedImages"></div>
        </div>
    </section>

    <!-- Enhanced Results Section -->
    <section id="results" class="results-section" style="display: none;">
        <div class="container">
            <div class="results-header">
                <h2>Disease Analysis Results</h2>
                <p>Detailed diagnosis with treatment recommendations</p>
            </div>

            <div class="results-content" id="resultsContent">
                <!-- Results will be populated by JavaScript -->
            </div>

            <!-- Feedback Section -->
            <div class="feedback-section">
                <h3>Was this result helpful?</h3>
                <div class="feedback-buttons">
                    <button class="feedback-btn feedback-yes" id="feedbackYes">
                        <i class="fas fa-thumbs-up"></i>
                        Yes, accurate
                    </button>
                    <button class="feedback-btn feedback-no" id="feedbackNo">
                        <i class="fas fa-thumbs-down"></i>
                        No, incorrect
                    </button>
                </div>
                
                <div class="feedback-form" id="feedbackForm" style="display: none;">
                    <h4>Help us improve - What was the correct disease?</h4>
                    <div class="feedback-input-group">
                        <input type="text" id="correctDisease" placeholder="Enter correct disease name">
                        <button class="btn-submit-feedback" id="submitFeedback">
                            <i class="fas fa-paper-plane"></i>
                            Submit
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery-section">
        <div class="container">
            <div class="section-header">
                <h2>Detection Gallery</h2>
                <p>Browse previously analyzed crop images and their results</p>
            </div>
            
            <div class="gallery-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="healthy">Healthy</button>
                <button class="filter-btn" data-filter="diseased">Diseased</button>
                <button class="filter-btn" data-filter="tomato">Tomato</button>
                <button class="filter-btn" data-filter="potato">Potato</button>
            </div>

            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About CropGuard AI</h2>
                    <p>
                        CropGuard AI is an advanced machine learning system designed to help farmers and agricultural professionals 
                        quickly identify crop diseases through image analysis. Our AI model has been trained on thousands of crop 
                        images and can detect over 50 different plant diseases with remarkable accuracy.
                    </p>
                    <div class="features">
                        <div class="feature">
                            <i class="fas fa-brain"></i>
                            <h4>AI-Powered Detection</h4>
                            <p>Advanced machine learning algorithms for accurate disease identification</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-clock"></i>
                            <h4>Instant Results</h4>
                            <p>Get detection results and recommendations within seconds</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-mobile-alt"></i>
                            <h4>Mobile Friendly</h4>
                            <p>Works seamlessly on desktop, tablet, and mobile devices</p>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <div class="image-placeholder">
                        <i class="fas fa-leaf"></i>
                        <p>AI in Agriculture</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <div class="section-header">
                <h2>Get in Touch</h2>
                <p>Have questions or feedback? We'd love to hear from you</p>
            </div>
            
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h4>Email</h4>
                            <p>chilantumovies@gmail.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h4>Phone</h4>
                            <p>+1 (555) 123-4567</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h4>Location</h4>
                            <p>UP Greater Noida</p>
                        </div>
                    </div>
                </div>
                
                <form class="contact-form">
                    <div class="form-group">
                        <input type="text" placeholder="Your Name" required>
                    </div>
                    <div class="form-group">
                        <input type="email" placeholder="Your Email" required>
                    </div>
                    <div class="form-group">
                        <textarea placeholder="Your Message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-paper-plane"></i>
                        Send Message
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 100 100" class="plant-logo">
                            <!-- Main stem -->
                            <path d="M50 85 L50 45" stroke="#ffffff" stroke-width="4" stroke-linecap="round"/>
                            <!-- Leaves -->
                            <path d="M50 50 Q35 45 30 55 Q35 65 50 60" fill="#ffffff" stroke="#ffffff" stroke-width="2"/>
                            <path d="M50 50 Q65 45 70 55 Q65 65 50 60" fill="#ffffff" stroke="#ffffff" stroke-width="2"/>
                            <path d="M50 40 Q35 35 30 45 Q35 55 50 50" fill="#ffffff" stroke="#ffffff" stroke-width="2"/>
                            <path d="M50 40 Q65 35 70 45 Q65 55 50 50" fill="#ffffff" stroke="#ffffff" stroke-width="2"/>
                            <!-- Small leaves -->
                            <path d="M50 35 Q42 30 40 38 Q42 46 50 42" fill="#ffffff" stroke="#ffffff" stroke-width="1"/>
                            <path d="M50 35 Q58 30 60 38 Q58 46 50 42" fill="#ffffff" stroke="#ffffff" stroke-width="1"/>
                            <!-- Roots -->
                            <path d="M50 85 Q40 90 35 88" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
                            <path d="M50 85 Q60 90 65 88" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
                            <path d="M50 85 Q45 95 50 95 Q55 95 50 85" stroke="#ffffff" stroke-width="3" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="logo-text">CropGuard AI</span>
                </div>
                <div class="footer-links">
                <a href="#home">Home</a>
                <a href="#about">About</a>
                <a href="#contact">Contact</a>
                <a href="#" onclick="document.getElementById('privacyModal').classList.add('show'); return false;">Privacy</a>
                <a href="#" onclick="document.getElementById('privacyModal').classList.add('show'); return false;">Terms</a>
                </div>
                <div class="footer-social">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 CropGuard AI. All rights reserved. | Updated 2025</p>
            </div>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner">
            <div class="spinner-inner"></div>
        </div>
        <p>Analyzing your crop image...</p>
    </div>

    <!-- How it Works Modal -->
    <div class="modal" id="howItWorksModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>How CropGuard AI Works</h2>
                <button class="modal-close" id="closeHowItWorks">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="how-it-works-content">
                    <div class="step-explanation">
                        <div class="step-visual">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="step-details">
                            <h3>1. Take Three Photos</h3>
                            <p>Capture close-up of affected area, full plant view, and underside where pests hide. Our AI needs multiple angles for accurate diagnosis.</p>
                        </div>
                    </div>
                    <div class="step-explanation">
                        <div class="step-visual">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="step-details">
                            <h3>2. AI Analysis</h3>
                            <p>Our advanced machine learning model analyzes your photos in ~30 seconds, comparing against thousands of disease patterns.</p>
                        </div>
                    </div>
                    <div class="step-explanation">
                        <div class="step-visual">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="step-details">
                            <h3>3. Get Treatment</h3>
                            <p>Receive detailed treatment recommendations including chemical and organic options, with buy links for products available in India.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div class="modal" id="privacyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Privacy Policy & Terms</h2>
                <button class="modal-close" id="closePrivacy">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="privacy-content">
                    <h3>How We Use Your Photos</h3>
                    <p>Your uploaded photos are used solely for disease diagnosis. We may use anonymized data to improve our AI model accuracy.</p>
                    
                    <h3>Data Storage</h3>
                    <p>Photos are stored securely and deleted after 30 days unless you choose to save them in your gallery.</p>
                    
                    <h3>Model Accuracy Information</h3>
                    <div class="accuracy-info">
                        <p><strong>Dataset Size:</strong> 50,000+ verified crop images</p>
                        <p><strong>Test Accuracy:</strong> 99.2% on validation set</p>
                        <p><strong>Last Model Update:</strong> 2025</p>
                        <p><strong>Supported Diseases:</strong> 50+ common crop diseases</p>
                    </div>
                    
                    <h3>Consent</h3>
                    <p>By using this service, you agree to our terms and allow us to use your images for improving our diagnosis model.</p>
                    
                    <div class="privacy-checkbox">
                        <label>
                            <input type="checkbox" id="privacyConsent">
                            I agree to the privacy policy and terms of service
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Consent Checkbox for Upload -->
    <div class="consent-section" id="consentSection" style="display: none;">
        <div class="consent-content">
            <label class="consent-checkbox">
                <input type="checkbox" id="uploadConsent">
                <span class="checkmark"></span>
                I agree to terms and allow using my images for improving diagnosis model
            </label>
        </div>
    </div>

    <script src="script.js?v=2025"></script>
    <!-- Cache bust: 2025 - Updated at 2025-01-27 -->
    <script>
        console.log('Page loaded at:', new Date().toISOString());
        
        // Error handling for blank page issues
        window.addEventListener('error', function(e) {
            console.error('JavaScript Error:', e.error);
            console.error('Error details:', e.filename, e.lineno, e.colno);
            
            // Show error message to user if page is blank
            setTimeout(() => {
                if (document.body.children.length === 0) {
                    document.body.innerHTML = `
                        <div style="padding: 20px; font-family: Arial, sans-serif; text-align: center;">
                            <h1>⚠️ Page Loading Issue</h1>
                            <p>There was an error loading the page. Please try:</p>
                            <ul style="text-align: left; max-width: 400px; margin: 20px auto;">
                                <li>Refresh the page (F5 or Ctrl+R)</li>
                                <li>Clear browser cache (Ctrl+Shift+Delete)</li>
                                <li>Try incognito/private mode</li>
                                <li>Disable browser extensions</li>
                            </ul>
                            <button onclick="location.reload()" style="padding: 10px 20px; font-size: 16px; background: #4a7c59; color: white; border: none; border-radius: 5px; cursor: pointer;">Reload Page</button>
                        </div>
                    `;
                }
            }, 2000);
        });
        
        // Force update copyright year
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded');
            const copyrightElement = document.querySelector('.footer-bottom p');
            if (copyrightElement) {
                copyrightElement.innerHTML = '&copy; 2025 CropGuard AI. All rights reserved. | Updated 2025';
                console.log('Copyright updated to 2025');
            }
            
            // Check if page content is visible
            setTimeout(() => {
                const heroSection = document.querySelector('.hero');
                if (!heroSection || heroSection.offsetHeight === 0) {
                    console.warn('Hero section not visible - possible CSS issue');
                }
            }, 1000);
        });
        
        // Fallback for if main script fails to load
        setTimeout(() => {
            if (typeof setupPhotoWorkflow === 'undefined') {
                console.warn('Main script may not have loaded properly');
            }
        }, 3000);
    </script>
</body>
</html>
